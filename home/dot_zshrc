# Load .profile
if [[ -r "${HOME}/.profile" ]]; then
  # Do not use emulate here, as SDKMAN! will produce errors otherwise
  source "${HOME}/.profile"
fi

# Load bash aliases
if [[ -r "${HOME}/.bash_aliases" ]]; then
  # ksh is closer than sh to bash
  emulate ksh -c "source '${HOME}/.bash_aliases'"
fi

# Enable homebrew zsh completions
if (( ${+commands[brew]} )); then
  fpath+="$(brew --prefix)/share/zsh/site-functions"
fi

# Oh-My-Zsh configuration

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# If you do not want any theme enabled, just set ZSH_THEME to blank: ZSH_THEME=""
ZSH_THEME=""
#ZSH_THEME="dracula"

# Add wisely, as too many plugins slow down shell startup
plugins=(
  extract
  z
  zsh-syntax-highlighting
  zsh-autosuggestions
  my-completions
  )

# https://github.com/zsh-users/zsh-completions/issues/603
fpath+="${ZSH_CUSTOM:-"${ZSH}/custom"}/plugins/zsh-completions/src"

source "${ZSH}/oh-my-zsh.sh"

# Fix kubectl completion with kubecolor
if command -v kubectl >/dev/null; then
  compdef kubecolor=kubectl
fi

## Start Aliases ------------------------------------------		

# update OS
alias up='sudo apt update && sudo apt upgrade -y'
alias upsdk='sdk selfupdate force'
alias upbrew='brew update && brew upgrade && brew cleanup'

alias uuid="uuidgen | tr '[:upper:]' '[:lower:]'"

# Launch NeoVim
alias nv=$(which nvim)

alias c=clear

# Launch bat(cat)
alias cat=bat

# exa listing
alias ll='exa -agl --icons --git --time-style long-iso'
alias lt='exa -1 --icons --tree --git-ignore'

# https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git
alias gst='git status'
# git pull recursively
alias gif='find . -type d -name ".git" -print -exec git -C $PWD/{}/../ pull origin master \;'
# alias gif='find . -maxdepth 2 -type d -name ".git" -print -exec git -C $PWD/{}/../ fetch origin \;'
# alias gpms='find . -maxdepth 2 -type d -name ".git" -print -exec git -C $PWD/{}/../ pull origin master \;'

# git
alias g='git'

# gradle
alias gr='gradle'
alias grw='./gradlew'

# kubernetes
alias k='kubectl'
alias kct="kubectx"
alias kns="kubens"

# Docker Aliases
alias d='docker'
alias doi='docker image'
alias doc='docker container'
alias dc='docker compose'
alias doe="docker exec -it"

# Simple Alias for Lazy Git
alias lg='lazygit'

# open ~/.zshrc in using NeoVim 
alias ezsh='nv ~/.zshrc'

# source ~/.zshrc
alias szsh='source ~/.zshrc'

## End Aliases ------------------------------------------		

# export PATH
export PATH=/home/bndev/my-downloads/sqlcl/bin:$PATH

# Starship
eval "$(starship init zsh)"

# McFly - fly through your shell history
eval "$(mcfly init zsh)"

# NVM
# export NVM_DIR="$HOME/.nvm"
# [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
# [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
