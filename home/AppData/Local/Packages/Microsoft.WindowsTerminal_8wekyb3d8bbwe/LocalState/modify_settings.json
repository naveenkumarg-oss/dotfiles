{{- /* chezmoi:modify-template */ -}}

{{- $profileDefaultsSnippet := `
    {
        "antialiasingMode": "cleartype",
        "colorScheme": "Dark+",
        "font": 
        {
            "face": "Monaspace Argon",
            "size": 14
        }
    }
` -}}

{{ $profileDefaultsSnippet = fromJson $profileDefaultsSnippet }}

{{- /* Load existing configuration */ -}}
{{- $result := dict -}}
{{- if not (.chezmoi.stdin | trim | empty) -}}
{{-   $result = fromJsonc .chezmoi.stdin -}}
{{- end -}}

{{- /* Set font */ -}}
{{- $result = setValueAtPath "profiles.defaults" $profileDefaultsSnippet $result -}}
{{- $result = setValueAtPath "useAcrylicInTabRow" true $result -}}

{{ toPrettyJson "\t" $result }}